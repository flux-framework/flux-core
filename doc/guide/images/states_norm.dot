// Usage: dot -Tpng file.dot -o file.png

digraph finite_state_machine {
    rankdir=LR;

    node [shape = point ]; Start
    node [shape = doublecircle ]; E

    node [shape = circle];
    Start -> L;
    L -> J [ label = "builtins-success" ];
    J -> Y [ label = "parent-ready" ];
    J -> Y [ label = "parent-none", color = "blue" ];
    Y -> 1 [ label = "sync-success" ];
    Y -> 1 [ label = "sync-none", color = "blue" ];
    1 -> Q [ label = "rc1-none" ];
    1 -> Q [ label = "rc1-success" ];
    Q -> 2 [ label = "quorum-full" ];
    2 -> 2 [ label = "rc2-none" ];
    2 -> C [ label = "rc2-success", color = "blue" ];
    2 -> C [ label = "shutdown" ];
    C -> S [ label = "cleanup-none" ];
    C -> S [ label = "cleanup-success", color = "blue" ];
    S -> 3 [ label = "children-complete" ];
    S -> 3 [ label = "children-none", color = "green" ];
    3 -> G [ label = "goodbye" ];
    G -> U [ label = "rc3-none" ];
    G -> U [ label = "rc3-success" ];
    U -> E [ label = "builtins-done" ];
}
